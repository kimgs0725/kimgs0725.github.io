---
title: "JPA4 - 엔티티 매핑"
date: 2021-06-22T20:13:17+09:00
draft: true
categories:
- spring
tags:
- jpa
- database
---

JPA에서 엔티티랑 DB 테이블을 정의한 클래스라고 생각하면 됩니다. 엔티티를 통해 간접적으로 DB 테이블을 정의할 수 있게 됩니다. 엔티티의 필드(멤버변수)에 타입과 필드명을 명시하면, DB에 호환되는 테이블을 생성해주는 쿼리문을 생성하게 됩니다. 엔티티 클래스에 필드를 채우게 되면 DB에서 레코드, 혹은 로우(데이터)를 의미하게 됩니다. 엔티티로 사용할 클래스에 `@Entity` 어노테이션을 붙여서 사용할 수 있습니다.

```java
@Entity
class Member {
    ...
}
```

이 때, 기본 생성자(파라미터가 없는)는 필수로 만들어줘야합니다. 클래스 설계에 따라 다르겠지만, 저는 `protected`로 세팅하고 있습니다.(대부분 데이터들은 파라미터가 있는 생성자를 만들어주기 때문입니다.) 그래서 `final`, `enum`, `interface`, `inner` 클래스는 사용할 수 없습니다. 그리고 저장할 필드에 `final` 키워드는 사용할 수 없습니다.

`@Table` 어노테이션은 엔티티와 매핑할 테이블에 대한 정보를 지정합니다. name은 테이블 이름을 지정하는 속성이며 기본값은 엔티티 이름을 사용하고 있습니다. 주로 엔티티 클래스 이름과 DB 내 예약어가 겹칠 때 사용합니다.(ex. Order(JPA) - orders(DB)) 그리고 uniqueConstraints 속성을 통해 유니크 제약 조건을 생성할 수 있습니다.